!function(e){var t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(o,s,function(t){return e[t]}.bind(null,s));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const o=e=>{if(!e)return;const t=document.querySelector(e);t&&t.parentNode.removeChild(t)},s="function"==typeof Map?new Map:function(){const e=[],t=[];return{has:t=>e.indexOf(t)>-1,get:n=>t[e.indexOf(n)],set(n,o){-1===e.indexOf(n)&&(e.push(n),t.push(o))},delete(n){const o=e.indexOf(n);o>-1&&(e.splice(o,1),t.splice(o,1))}}}();let a=e=>new Event(e,{bubbles:!0});try{new Event("test")}catch(e){a=(e=>{const t=document.createEvent("Event");return t.initEvent(e,!0,!1),t})}function r(e){if(!e||!e.nodeName||"TEXTAREA"!==e.nodeName||s.has(e))return;let t=null,n=null,o=null;function r(t){{const t=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=t}e.style.overflowY=t}function l(){if(0===e.scrollHeight)return;const o=function(e){const t=[];for(;e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),s=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",n=e.clientWidth,o.forEach(e=>{e.node.scrollTop=e.scrollTop}),s&&(document.documentElement.scrollTop=s)}function d(){l();const t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null);var s="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(s<t?"hidden"===n.overflowY&&(r("scroll"),l(),s="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(r("hidden"),l(),s="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),o!==s){o=s;const t=a("autosize:resized");try{e.dispatchEvent(t)}catch(e){}}}const i=()=>{e.clientWidth!==n&&d()},c=(t=>{window.removeEventListener("resize",i,!1),e.removeEventListener("input",d,!1),e.removeEventListener("keyup",d,!1),e.removeEventListener("autosize:destroy",c,!1),e.removeEventListener("autosize:update",d,!1),Object.keys(t).forEach(n=>{e.style[n]=t[n]}),s.delete(e)}).bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",c,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",d,!1),window.addEventListener("resize",i,!1),e.addEventListener("input",d,!1),e.addEventListener("autosize:update",d,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",s.set(e,{destroy:c,update:d}),function(){const n=window.getComputedStyle(e,null);"vertical"===n.resize?e.style.resize="none":"both"===n.resize&&(e.style.resize="horizontal"),t="content-box"===n.boxSizing?-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)):parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),isNaN(t)&&(t=0),d()}()}function l(e){const t=s.get(e);t&&t.destroy()}function d(e){const t=s.get(e);t&&t.update()}let i=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((i=(e=>e)).destroy=(e=>e),i.update=(e=>e)):((i=((e,t)=>(e&&Array.prototype.forEach.call(e.length?e:[e],e=>r(e)),e))).destroy=(e=>(e&&Array.prototype.forEach.call(e.length?e:[e],l),e)),i.update=(e=>(e&&Array.prototype.forEach.call(e.length?e:[e],d),e)));var c=i;const u=document.querySelector("#form"),p=document.querySelector("#tasks-container"),y=document.querySelector("#done-tasks-container");let m;const h=()=>{m=JSON.parse(localStorage.getItem("tasks"))||[]};let g;const f=()=>{g=JSON.parse(localStorage.getItem("tasksDone"))||[]},x=e=>{const t=document.querySelector("#empty-stage-done"),n=e.target,s=n.dataset.index;if(!n.matches(`img[data-index="${s}"]`))return;t&&o("#empty-stage-done"),m[s].done=!m[s].done;const a=m.splice(s,1);g.push(a[0]),localStorage.setItem("tasksDone",JSON.stringify(g)),J(g),localStorage.setItem("tasks",JSON.stringify(m)),w(m),0===m.length&&(o("#tasks-table"),q())},v=e=>{console.log("markTaskUncompleted is activated on click");const t=e.target,n=t.dataset.index;if(!t.matches(`img[data-index="${n}"]`))return;g[n].done=!g[n].done;const s=g.splice(n,1);m.push(s[0]),localStorage.setItem("tasksDone",JSON.stringify(g)),J(g),localStorage.setItem("tasks",JSON.stringify(m)),b(),w(m),0===g.length&&(o("#tasks-done"),C())},k=e=>{e.preventDefault();const t=document.querySelector("#add-task").value;if(S(t))return;const n={text:t,done:!1,priority:"P2",deadline:void 0};m.push(n),u.reset(),localStorage.setItem("tasks",JSON.stringify(m)),b(),w(m)},S=e=>{if(""===e.trim())return alert("Task is empty"),u.reset(),!0},b=()=>{if(!document.querySelector("#tasks-table")){o("#empty-stage-planner");const e=document.createElement("table");e.setAttribute("id","tasks-table"),p.appendChild(e),e.innerHTML='\n                <thead>\n                <tr id="task-headings">\n                    <th></th>\n                    <th class="heading-cell">Task</th>\n                    <th class="heading-cell"><i class="material-icons arrow-down">keyboard_arrow_down</i>Priority</th>\n                    <th class="heading-cell">Deadline</th>\n                    <th></th>\n                </tr>\n                </thead>'}},w=(e=[])=>{const t=document.querySelector("#tasks-table");o("#tasks-table > tbody");const n=document.createElement("tbody");t.appendChild(n),n.innerHTML=e.map((e,t)=>{const n=e.deadline?`value="${e.deadline}"`:"";return`\n       <tr class="task">\n           <td class="chkbx-cell">\n             <img \n               class="chkbx-img-unchecked"\n               src="${e.done?"../images/checkbox-checked.svg":"../images/checkbox-unchecked.svg"}" \n               data-index="${t}"></td>\n           <td class="textarea-cell"><textarea rows="1" class="text-cell" data-index="${t}">${e.text}</textarea></td>\n           <td class="priority-cell">\n              <select class="priority" data-index="${t}">\n                    <option value="P0" ${"P0"===e.priority?"selected":""}>P0</option>\n                    <option value="P1" ${"P1"===e.priority?"selected":""}>P1</option>\n                    <option value="P2" ${"P2"===e.priority?"selected":""}>P2</option>\n              </select></td>\n           <td class="deadline-cell">\n             <input type="date" class="deadline" ${n} data-index="${t}">\n           </td>\n           <td class="icon-cell">\n             <i class="material-icons" data-index="${t}">delete</i>\n           </td>\n       </tr>\n       `}).join(""),c(n.querySelectorAll("textarea"))},E=e=>{const t=e.target,n=t.dataset.index;t.matches(".priority")&&(m[n].priority=t.value,localStorage.setItem("tasks",JSON.stringify(m)))},L=()=>{0!==m.length&&(b(),w(m))},q=()=>{if(m.length>0)return;document.querySelector("#tasks-table")||O()},O=()=>{const e=document.querySelector("#tasks-container"),t=document.createElement("div");e.appendChild(t),t.setAttribute("id","empty-stage-planner"),t.setAttribute("class","empty-stage"),t.innerHTML='<img class="sun" src="../images/sun.svg"><p class="empty-stage-text gray">You have no tasks.<br>Add a task below.</p>'},T=()=>{0===m.length&&(o("#tasks-table"),q(),document.querySelector("#add-task").focus())};function N(e){const t=e.target,n=t.dataset.index;t.matches(".icon-cell i.material-icons")&&(m.splice(`${n}`,1),localStorage.setItem("tasks",JSON.stringify(m)),w(m),T())}const $=e=>{e.preventDefault();const t=e.target,n=t.dataset.index;if(!t.matches('.deadline-cell input[type="date"]'))return;const o=t.value;m[n].deadline=o,localStorage.setItem("tasks",JSON.stringify(m)),w(m)},z=e=>{e.preventDefault();const t=e.target,n=t.value,o=t.dataset.index;t.matches(".text-cell")&&(m[o].text=n,localStorage.setItem("tasks",JSON.stringify(m)))},M=e=>{e.preventDefault();const t=e.target,n=t.value,o=t.dataset.index;t.matches(".done-text-cell")&&(g[o].text=n,localStorage.setItem("tasksDone",JSON.stringify(g)))},P=e=>{e.preventDefault();const t=e.target,n=t.value,o=t.dataset.index;t.matches(".text-cell")&&(""===n.trim()&&(m.splice(o,1),localStorage.setItem("tasks",JSON.stringify(m)),w(m),T()),document.querySelector("#add-task").focus())},D=e=>{e.preventDefault();const t=e.target,n=t.value,s=t.dataset.index;t.matches(".done-text-cell")&&(""===n.trim()&&(g.splice(s,1),localStorage.setItem("tasksDone",JSON.stringify(g)),J(g),0===g.length&&(o("#tasks-done"),C(),document.querySelector("#add-task").focus())),document.querySelector("#add-task").focus())},I=()=>{},A=()=>{setInterval(()=>{const e=document.querySelector("#date"),t=new Date,n=t.toLocaleDateString("en-US",{month:"long",day:"numeric"}),o=t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});e.innerHTML=`Today   |   ${n}   |   ${o}`},1e3)},J=(e=[])=>{const t=document.querySelector("#done-tasks-container");o("#tasks-done");const n=document.createElement("table");n.setAttribute("id","tasks-done"),t.appendChild(n);const s=document.querySelector("#tasks-done");s.innerHTML=e.map((e,t)=>`\n        <tr class="task-done">\n          <td class="chkbx-cell"><img\n               class="chkbx-img-checked"\n               src="${e.done?"../images/checkbox-checked.svg":"../images/checkbox-unchecked-green.svg"}"\n               data-index="${t}"></td>\n          <td><textarea class="done-text-cell" rows="1" data-index="${t}">${e.text}</textarea></td>\n        </tr>\n    `).join(""),c(s.querySelectorAll("textarea"))},C=()=>{if(g.length>0)return;document.querySelector("#tasks-done")||H()},H=()=>{const e=document.querySelector("#done-tasks-container"),t=document.createElement("div");t.setAttribute("id","empty-stage-done"),t.setAttribute("class","empty-stage top-padding"),e.appendChild(t),t.innerHTML='<img class="checkbox" src="../images/checkbox_icon.svg"><p class="empty-stage-text">Tasks you get done<br>will appear here.</p>'},j=()=>{0!==g.length&&J(g)},W=()=>{let e=null;window.addEventListener("resize",t=>{null!==e&&clearTimeout(e),e=setTimeout(()=>{e=null,_()},1)})},_=()=>{const e=document.querySelector("#checkbox-button"),t=document.querySelector("#add-button-small"),n=document.querySelector("#add-button"),o=document.querySelector("#add-tasks"),s=document.querySelector("#back-to-planner"),a=document.querySelector("#done-container"),r=document.querySelector("#main-content");window.matchMedia("(min-width: 800px)").matches&&(n.style.display="flex",e.style.display="none",t.style.display="none",o.style.padding="0",s.style.display="none",a.style.width="530px",r.style.display="flex",a.style.display="flex",Y=!1),window.matchMedia("(max-width: 799px)").matches&&(n.style.display="none",e.style.display="flex",t.style.display="flex",o.style.padding="0 15px",s.style.display="flex",a.style.display="none",r.style.display="flex"),window.matchMedia("(max-width: 799px)").matches&&!0===Y&&(a.style.display="flex",r.style.display="none",console.log("screen width < 719 && checkboxClicked === true"))},F=document.querySelector("#checkbox-button");let Y=!1;const X=()=>{Y=!0;const e=document.querySelector("#done-container");e.style.display="flex",e.style.height="100vh",e.style.width="100%",e.style.minWidth="320px",document.querySelector("#main-content").style.display="none"};document.addEventListener("DOMContentLoaded",()=>{A(),h(),f(),q(),C(),L(),j(),W(),window.addEventListener("load",_),u.addEventListener("submit",k),F.addEventListener("click",X),p.addEventListener("click",x),p.addEventListener("change",E),p.addEventListener("click",N),p.addEventListener("change",$),p.addEventListener("keyup",z),p.addEventListener("keydown",I),p.addEventListener("focusout",P),y.addEventListener("click",v),y.addEventListener("keyup",M),y.addEventListener("focusout",D)})}]);